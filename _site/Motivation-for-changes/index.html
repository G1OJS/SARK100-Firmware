<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/style.css?v=7e54e0b0cb3f3b754b38ab917d09d830571619c3">


    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Motivation for changes | G1OJS MR300 SARK100 Firmware</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="Motivation for changes" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/Motivation-for-changes/" />
<meta property="og:url" content="http://localhost:4000/Motivation-for-changes/" />
<meta property="og:site_name" content="G1OJS MR300 SARK100 Firmware" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Motivation for changes" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"Motivation for changes","url":"http://localhost:4000/Motivation-for-changes/"}</script>
<!-- End Jekyll SEO tag -->

    
    <!-- this is from the head-custom file that contains elements that can be inserted into head blocks in some or all site pages -->

<!-- page-specific content -->



<!-- MathJax support -->

<!-- end of MathJax support -->

<!-- end of head-custom.html -->


  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          
            <a id="forkme_banner" href="https://github.com/G1OJS/G1OJS-MR300-SARK100-Firmware">View on GitHub</a>
          

          <a href="https://g1ojs.github.io/">
            <h1 id="project_title">G1OJS MR300 SARK100 Firmware</h1>
          </a>
          <h2 id="project_tagline">Investigating mods to the SARK100 firmware</h2>

          
        </header>
    </div>

    <!-- MAIN CONTENT -->
    
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">

        
          <p id="page-title" class="page__title" itemprop="headline">
          Motivation for changes
          </p>
        
        
        
        
        <p>NOTE - it is possible that the issues discussed below are a result of EA4FRB’s firmware being used on a device for which it was not designed. The analyser that I have is an ‘MR300’ which as I understand it is a clone of the original SARK100 device.</p>

<p>A detailed list of changes made in the G1OJS 01 version is here <a href="https://g1ojs.github.io/G1OJS-MR300-SARK100-Firmware//V01-Overview/">V01-Overview</a>. This page also describes changes to the menus and screens.</p>

<h1 id="issues-addressed">Issues addressed</h1>
<h2 id="artifacts-and-noise-in-frequency-sweeps">Artifacts and Noise in frequency sweeps</h2>
<p>The graph below shows a measurement taken using the V13 firmware via the pcLink Configuration Menu item, using the “raw” command to export bridge voltages from my MR300 analyser. I converted these voltages to |Z|, VSWR, R and X using <a href="https://g1ojs.github.io/G1OJS-MR300-SARK100-Firmware/RF-Directional-Wheastone-Bridge-Analysis/">well-known formulas</a>. This graph shows two of the features that I wanted to try to improve:</p>
<ol>
  <li>Both the VSWR and R curves show step changes that are clearly artifacts and not representative of the true test load impedance.</li>
  <li>The measurement is quite ‘noisy’, particularly at high impedances.</li>
</ol>

<p><img src="https://github.com/user-attachments/assets/9a6d0d5a-f941-49b1-9569-0c719bc3c68f" alt="Graph showing Z,R,X and VSWR with step changes in VSWR and R visible" title="Fig 1: Measurement of a test load using V13 firmware" /></p>

<h2 id="high-impedance-loads-and-flatness">High impedance loads and flatness</h2>
<p>The figure below shows the uncorrected (calibration parameters not applied) results from a measurement of a 1000 ohm load. The very noticeable drop in measured impedance across frequency corresponds to the impedance of a small capacitance (around 10pF in order of magnitude) in parallel with the input, and is also noticeable on the open circuit load results. Were this a vector analyser, it would be relatively straightforward to determine the exact capacitance during calibration and remove it from the measured complex load impedance. This is not straightforward when the sign of Im(Z) is difficult to determine and Re(Z) is always positive. However, it seemed likely that <em>something</em> could be done to at least partially remove this effect, given the existing calibration routine and knowledge of the causes. The second figure shows the effect in the corrected output of the V13 firmware.</p>

<p><img src="https://github.com/user-attachments/assets/d2089d87-d1e3-4f72-b899-287c43b7624b" alt="image" />
<img src="https://github.com/user-attachments/assets/9d0aace5-7c2e-4295-95e1-4753ea5d630f" alt="image" /></p>

<h2 id="inductance-and-capacitance-modes-show-zero-above-10mhz">Inductance and Capacitance modes show zero above 10MHz</h2>
<p>Both the inductance and capacitance modes show zero at 10MHz and above, and I wanted to find out if this could be fixed.</p>
<h1 id="changes-investigated--used">Changes Investigated &amp; Used</h1>
<ul>
  <li><a href="https://g1ojs.github.io/G1OJS-MR300-SARK100-Firmware/Interpolation-and-DDS-Gain-Settings/">Interpolation and DDS Gain Settings</a></li>
  <li><a href="https://g1ojs.github.io/G1OJS-MR300-SARK100-Firmware/ZerosAndInterpolation/">Zero datum for Va and Vz and piecewise linear interpolation</a></li>
</ul>

        
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        
        <p class="copyright">G1OJS MR300 SARK100 Firmware maintained by <a href="https://github.com/G1OJS">G1OJS</a></p>
        
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>
  </body>
</html>
