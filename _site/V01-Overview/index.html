<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/style.css?v=7e54e0b0cb3f3b754b38ab917d09d830571619c3">


    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>V01 Overview | G1OJS MR300 SARK100 Firmware</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="V01 Overview" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/V01-Overview/" />
<meta property="og:url" content="http://localhost:4000/V01-Overview/" />
<meta property="og:site_name" content="G1OJS MR300 SARK100 Firmware" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="V01 Overview" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"V01 Overview","url":"http://localhost:4000/V01-Overview/"}</script>
<!-- End Jekyll SEO tag -->

    
    <!-- this is from the head-custom file that contains elements that can be inserted into head blocks in some or all site pages -->

<!-- page-specific content -->



<!-- MathJax support -->

<!-- end of MathJax support -->

<!-- end of head-custom.html -->


  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          
            <a id="forkme_banner" href="https://github.com/G1OJS/G1OJS-MR300-SARK100-Firmware">View on GitHub</a>
          

          <a href="https://g1ojs.github.io/">
            <h1 id="project_title">G1OJS MR300 SARK100 Firmware</h1>
          </a>
          <h2 id="project_tagline">Investigating mods to the SARK100 firmware</h2>

          
        </header>
    </div>

    <!-- MAIN CONTENT -->
    
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">

        
          <p id="page-title" class="page__title" itemprop="headline">
          V01 Overview
          </p>
        
        
        
        
        <h1 id="screenshots-and-changes-to-menus">Screenshots and Changes to Menus</h1>
<p>To be written</p>

<h1 id="new-calibration-approach">New Calibration approach</h1>
<p>To be written</p>

<h1 id="changes-from-ea4frb-v13">Changes from EA4FRB V13</h1>

<h2 id="major-changes">Major changes</h2>
<p>The major changes I’ve made to source code are</p>
<ul>
  <li>linear interpolation of calibration factors between calibration points</li>
  <li>Va and Vz zero calibration with open and short calibration load, and subtraction from measurement before correction factors applied. This gives better accuracy near short and open conditions.</li>
  <li>Two-step piecewise linear calibration for Va for high Z loads - better accuracy for high Z loads</li>
  <li>DDS gain maintained at lowest frequency setting to avoid steps in output caused when gain changes</li>
  <li>Added 60m band</li>
  <li>Redesigned the main display - everything on previous ‘SWR’ and ‘IMP’ displays is now combined into one view</li>
  <li>Removed numerical caps on impedance and SWR, and replaced with an ‘overrange’ display (‘***’) when quantities go over 3 digits (does not affect pcLink output)</li>
  <li>Scan routine now selects step size automatically, enabling removal of step size CONFIG menu item</li>
  <li>Capacitance and inductance calculations now work above 10MHz, and show measured resistance alongside capacitance / inductance</li>
  <li>Added 0.1 ohm display resolution for values of R,X,Z below 10 (also added to pcLink output for all values). Display now 1dp for all quantities, pcLink has 2dp but only SWR has 2dp precision.</li>
</ul>

<table>
  <tbody>
    <tr>
      <td>NOTE - as the main display now combines SWR,</td>
      <td>Z</td>
      <td>, R and X into one view, I needed to make another change as follows. As in V13, “dizzling” is used to determine the sign of the reactance. Whilst dizzling is active, the unit can’t be used as a VFO for other experiments (because the frequency toggles constantly up and down). However, pressing the mode key moves the unit into a non-dizzling mode equivalent to the previous “SWR” mode, but with all elements of the display retained. Instead of changing the display, a simple “#” is placed where the sign of the reactance would normally show.</td>
    </tr>
  </tbody>
</table>

<h2 id="other-changes">Other changes</h2>
<ul>
  <li>Internal software structural change - calibration frequencies separated from band frequencies, giving greater freedom for setting cal frequencies and band edges at design time</li>
  <li>Calibration now done at selected frequencies to avoid spurii</li>
  <li>Available DDS gain settings table modified to provide finer steps for DDS gain setting during calibration</li>
  <li>Source code refactored to reduce memory usage &amp; potentially allow more functions to be added</li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>Fixed display errors caused by SWR being lower than implied by</td>
          <td>Z</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>G1OJS Callsign in welcome screen</li>
  <li>Removed delay following change of band</li>
  <li>Changed “OFF” to “SIG”</li>
  <li>Changed “suspend timeout” to “Set Idle Timeout”</li>
  <li>Default idle timeout set to off</li>
  <li>Added frequency readout / progress indicator to calibration routine</li>
  <li>Added automatic restart after calibration</li>
  <li>Added a beep when band changes from 6m back to 160m</li>
  <li>Default increment for key up / down = 100kHz (was 10kHz)</li>
  <li>Added “scanrp” command to output both uncorrected and corrected bridge voltages</li>
  <li>Source code - changed some variable names and function names to make them more descriptive (e.g. including reference to units such as Hz, kHz)</li>
</ul>

<h2 id="ideas-for-next-version">Ideas for next version</h2>
<ul>
  <li>Check if changing Vz cal to 50-274 instead of current 50-150 gives better overall results. 
 (Current scheme is Vr 150-274, Vz 50-150, Va1 50-150, Va2 150-274 Could also try Va2 150-1000 or 274-1000, or a value like 470R instead of 1000R)</li>
  <li>Consider adding a correction factor for Vr / VSWR - it’s sometimes too low &amp; affects R calculation</li>
  <li>Look closer at limits of applicability of L and C calculations.</li>
  <li>Improve LCD display on pcLink</li>
  <li>Look at band limits. What if we make them not contiguous? Better? Worse? Good for scanning (faster)?</li>
  <li>Argument for setmeasurecalcdisplay - use descriptive #defs rather than literals</li>
  <li>Investigate adding a variable-output VFO mode.</li>
</ul>


        
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        
        <p class="copyright">G1OJS MR300 SARK100 Firmware maintained by <a href="https://github.com/G1OJS">G1OJS</a></p>
        
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>
  </body>
</html>
